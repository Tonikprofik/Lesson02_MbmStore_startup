@addTagHelper "*, Microsoft.AspNetCore.Mvc.TagHelpers"
@using MbmStore.Models;
@{
    ViewData["Title"] = "Catalogue";
}

<h1>Catalogue</h1>
<a asp-controller="Home" asp-action="Index">Home</a>
<p>
    
    @foreach (Product item in ViewBag.Products)
    {
        if (item is Movie)
        {
            Movie movie = (Movie)item;
            <h2>@movie.Title</h2><div>Director: @movie.Director</div> <div>Price: @movie.Price</div>
        <p><img src="~/Images/@movie.ImageFileName" alt="@movie.Title" /></p>
        }
        else if (item is Book)
        {
        Book book = (Book)item;
        <div>
            <h2>@book.Title</h2> <div>Author: @book.Author </div>
            <div>Price:  @book.Price</div>
            <div>Publisher: @book.Publisher</div>
            <div>Published: @book.Published</div>
            <div>ISBN: @book.ISBN</div>
            <p><img src="~/Images/@book.ImageUrl" alt="@book.Title" /></p>
        </div>
        }
        else if (item is MusicCD)
        {
        MusicCD musicCD = (MusicCD)item;

        <h2>@musicCD.Title</h2>
        <h3>@musicCD.Artist</h3>

        <div>@musicCD.Released</div>
        <div>@musicCD.Label</div>
        <div>Price: @musicCD.Price</div>
        <p><img src="~/Images/@musicCD.ImageUrl" alt="@musicCD.Title" /></p>
        <ol>
            @foreach (Track track in musicCD.Tracks)
            {
                <li>
                    @track.Title @*(@track.Composer)*@
                    @track.Length.Minutes:@track.Length.Seconds

                </li>
            }

        </ol>
    }
}

    </ul>
    </p>